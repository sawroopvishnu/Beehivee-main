"use strict";
! function(e) {
    const t = e("body"),
        a = e(".nav-container .profile-nav"),
        o = e(".bp-navs:not(.single-screen-navs) > ul");

    function i() {
        if (t.hasClass("bp-user")) {
            const t = e(".single-headers div#item-header-content .action .generic-button > a, .single-headers div#item-header-content .action .generic-button > button");
            e(".tooltip").remove(), t.each(function() {
                e(this).attr({
                    "data-toggle": "tooltip",
                    "data-placement": "top",
                    "data-original-title": e(this).text()
                }), e(this).tooltip("hide"), e(this).tooltip("update")
            })
        }
    }
    a.length && a.flexMenu({
        showOnHover: !1,
        cutoff: 0,
        popupClass: "dropdown-menu-right",
        linkText: '<span class="nav-link-text">' + beehive_data.more_text + "<text>",
        showCount: !0,
        hOverflow: !0
    }), o.has("li").length && o.flexMenu({
        showOnHover: !1,
        cutoff: 0,
        popupClass: "dropdown-menu-right",
        linkText: '<i class="uil-ellipsis-h"></i>',
        hOverflow: !0,
        shouldApply: function() {
            return !o.closest("#buddypress").hasClass("bp-dir-vert-nav") || !(window.innerWidth > 991.98)
        }
    }), e("#item-header .bp-feedback").length && e("#item-header .bp-feedback").prependTo(".profile-col-main").css({
        "margin-top": "0"
    }), (t.hasClass("registration") || t.hasClass("profile-edit")) && e("#signup-form select[multiple=multiple], #profile-edit-form select[multiple=multiple]").select2(), t.hasClass("groups") && e(".about-group").shorten({
        showChars: 75,
        moreText: beehive_data.read_more,
        lessText: beehive_data.read_close
    }), (t.hasClass("activity") || t.hasClass("group-home")) && e(window).scroll(function() {
        const t = e("li.load-more");
        if (!t.get(0) || t.data("bpaa-autoloaded")) return;
        const a = t.offset().top - 50;
        e(window).scrollTop() + e(window).height() > a && (t.data("bpaa-autoloaded", 1), t.find("a")[0].click())
    }), e(document).ajaxComplete(function(e, a, o) {
        let s = {};
        if ("POST" == o.type || "PATCH" == o.type || "PUT" == o.type ? s = Object.fromEntries(new URLSearchParams(o.data)) : o.url.indexOf("?") > -1 && (s = Object.fromEntries(new URLSearchParams(o.url.split("?")[1]))), t.hasClass("bp-user")) switch (console.log(s.action), s.action) {
            case "friends_add_friend":
            case "friends_withdraw_friendship":
            case "friends_remove_friend":
                i()
        }
    }), i(), e("#invitations-bulk-management .invitations .invitation-content").shorten({
        showChars: 22,
        moreText: beehive_data.read_more.toLowerCase(),
        lessText: beehive_data.read_close
    })
}(jQuery);