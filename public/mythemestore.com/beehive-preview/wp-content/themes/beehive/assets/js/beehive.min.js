"use strict";
! function(e) {
    const a = e("body.beehive"),
        t = e(".site-header"),
        i = e("nav.beehive-navbar"),
        n = e("#beehive-page"),
        o = e(".beehive-preloader"),
        s = e("#beehive-social-panel .panel-logo img").attr("src"),
        r = e(".beehive-navbar .default-logo").attr("src");
    if (i.hasClass("fixed-top")) {
        let a = 0;
        e(window).on("scroll", function() {
            e(this).scrollTop() > 50 ? (i.addClass("nav-scrolling"), e(this).scrollTop() > a ? (i.addClass("to-bottom"), i.removeClass("to-top")) : (i.addClass("to-top"), i.removeClass("to-bottom")), a = e(this).scrollTop()) : i.removeClass("nav-scrolling")
        })
    }
    if (i.hasClass("default")) {
        const t = e(".navbar-main-container"),
            i = t.find(".dropdown > a.dropdown-toggle"),
            n = 991.98;
        let o;

        function l() {
            i.length && (i.off("click", d), i.on("click", d), a.off("mouseup", c), a.on("mouseup", c), t.closest(".js-hiraku-offcanvas").hasClass("js-hiraku-offcanvas-active") || i.attr("aria-expanded", "false"))
        }

        function d() {
            t.closest(".js-hiraku-offcanvas").hasClass("js-hiraku-offcanvas-active") && (e(".dropdown > a.dropdown-toggle", e(this).parent().parent()).not(this).attr("aria-expanded", "false"), "false" == e(this).attr("aria-expanded") ? e(this).attr("aria-expanded", "true") : e(this).attr("aria-expanded", "false"))
        }

        function c(e) {
            i && i.length > 0 && (i.is(e.target) || 0 !== i.has(e.target).length || i.attr("aria-expanded", "false"))
        }
        a.hasClass("desktop-slidenav") ? t.hiraku({
            btn: ".beehive-navbar.default .beehive-toggler",
            direction: "right"
        }) : (t.hiraku({
            btn: ".beehive-navbar.default .beehive-toggler",
            direction: "right",
            breakpoint: n
        }), t.find("ul.navbar-main").flexMenu({
            showOnHover: !1,
            cutoff: 0,
            linkText: beehive_data.more_text,
            linkClass: "nav-item dropdown",
            disableClick: !0,
            shouldApply: function() {
                return !(window.innerWidth < n)
            }
        })), t.find(".dropdown").on("hide.bs.dropdown", function(e) {
            e.preventDefault(), e.stopPropagation()
        }, !1), e(window).on("load resize", function() {
            clearTimeout(o), o = setTimeout(l, 250)
        }), v(), e(window).on("resize", v)
    }
    if (i.hasClass("social")) {
        ({
            form: e("#ajax-search-form"),
            results: e("#ajax-search-result"),
            delay: 400,
            minCars: 3,
            timeOut: !1,
            doSearch: function() {
                const t = this.form.find("#ajax-search-textfield");
                t.length && (this.form.on("submit", function(e) {
                    e.preventDefault()
                }), t.on("keyup", function(a) {
                    clearTimeout(this.timeOut), "" !== e.trim(a.target.value) && e.trim(a.target.value.length) >= this.minCars ? this.timeOut = setTimeout(e.proxy(this.ajaxRequest, this, a.target.value), this.delay) : this.results.fadeOut()
                }.bind(this)), a.on("mousedown", function(e) {
                    let a = this.results;
                    a.is(e.target) || 0 !== a.has(e.target).length || a.fadeOut()
                }.bind(this)), t.on("click focus", function(a) {
                    "" !== e.trim(a.target.value) && e.trim(a.target.value.length) >= this.minCars && !this.results.is(":empty") && this.results.show()
                }.bind(this)))
            },
            ajaxRequest: function(a) {
                clearTimeout(this.timeOut);
                let t = a,
                    i = !1;
                if (!0 === i) return;
                let n = this.results,
                    o = this.form.find(".beehive-loading-ring");
                e.ajax({
                    type: "POST",
                    data: {
                        action: "beehive_ajax_search",
                        search: t,
                        search_nonce: beehive_data.beehive_search_nonce
                    },
                    datatype: "json",
                    url: beehive_data.ajaxurl,
                    beforeSend: function() {
                        o.show(), i = !0
                    },
                    success: function(e) {
                        n.html(e).show()
                    },
                    complete: function() {
                        o.fadeOut(), i = !1
                    }
                })
            }
        }).doSearch()
    }
    let h;
    let u;

    function p() {
        const t = e("aside.sticky-sidebar > .widget:last-of-type"),
            i = e("aside.sticky-sidebar > .sidebar-nav-menu");
        (t.length || i.length) && (window.innerWidth > 991.98 ? a.hasClass("beehive-social-layout") ? (t.stick_in_parent({
            offset_top: Number(beehive_data.stick_offset),
            bottoming: !1
        }), i.stick_in_parent({
            offset_top: t.outerHeight(!0) + Number(beehive_data.stick_offset),
            bottoming: !1
        }), 90 == beehive_data.stick_offset && e(window).on("scroll", function() {
            "fixed" == t.css("position") && parseFloat(t.css("top")) < beehive_data.stick_offset && (t.css("top", beehive_data.stick_offset + "px"), i.css("top", t.outerHeight(!0) + Number(beehive_data.stick_offset) + "px"))
        })) : (t.stick_in_parent({
            offset_top: Number(beehive_data.stick_offset)
        }), e(document).ajaxComplete(function() {
            t.trigger("sticky_kit:recalc")
        })) : (t.trigger("sticky_kit:detach"), i.trigger("sticky_kit:detach")))
    }

    function b() {
        const t = e("#beehive-social-panel .panel-logo img");
        a.hasClass("panel-expanded") && (window.innerWidth < 1199.98 ? a.addClass("panel-collapsed") : window.innerWidth > 1920.98 ? a.addClass("panel-collapsed") : a.removeClass("panel-collapsed")), window.innerWidth > 767.98 ? s && beehive_data.icon_logo_url && (a.hasClass("panel-collapsed") ? t.attr("src") !== beehive_data.icon_logo_url && t.attr("src", beehive_data.icon_logo_url) : t.attr("src") !== s && t.attr("src", s)) : t.attr("src") !== s && t.attr("src", s)
    }

    function f() {
        if (beehive_data.bp_is_active && a.hasClass("logged-in") && a.hasClass("beehive-social-layout") && i.hasClass("social")) {
            if (!e("ul#navbar-user").length) return;
            !e("nav.beehive-navbar button.account-toggler").length && i.hasClass("social") && e("nav.beehive-navbar > div").prepend(e("<button>").addClass("beehive-toggler account-toggler").attr("type", "button").append(beehive_data.avatar)), e("#navbar-account-sidebar").length || n.after('<div id="navbar-account-sidebar"></div>');
            const o = e("#navbar-account-sidebar"),
                s = e("#navbar-user li#myaccount-url-list");
            if (window.innerWidth < 767.98) {
                if (!e("#navbar-account-sidebar ul.member-account-menu").length) {
                    if (t.addClass("mobile-header"), o.addClass("navbar-account-sidebar").append(s.find("ul.member-account-menu")), s.hide(), !e(".nav-top-bar").length) {
                        const a = e("nav.beehive-navbar > div");
                        a.prepend('<div class="nav-top-bar"></div>'), e(".nav-top-bar").append(a.find("button.account-toggler")).append(a.find("button.panel-toggler")).append(a.find("#beehive-ajax-search"))
                    }!t.hasClass("overlay-header") && i.hasClass("fixed-top") && (t.css("transition") ? t.on("transitionend", () => {
                        t.css({
                            height: i.outerHeight()
                        }), t.off("transitionend")
                    }) : t.css({
                        height: i.outerHeight()
                    })), i.hasClass("fixed-top") && e(window).on("scroll", function() {
                        i.hasClass("nav-scrolling") && i.hasClass("to-bottom") ? a.hasClass("admin-bar") ? i.css({
                            top: e("#wpadminbar").outerHeight() - e(".nav-top-bar").outerHeight()
                        }) : i.css({
                            top: -1 * e(".nav-top-bar").outerHeight()
                        }) : i.removeAttr("style")
                    })
                }
            } else if (!e("#navbar-user li#myaccount-url-list ul.member-account-menu").length) {
                if (i.removeClass("mobile-header"), s.find("div.dropdown-menu").append(o.find("ul.member-account-menu")), s.show(), o.removeClass("navbar-account-sidebar").html(""), e(".nav-top-bar").length) {
                    const a = e(".nav-top-bar").contents();
                    e(".nav-top-bar").replaceWith(a)
                }!t.hasClass("overlay-header") && i.hasClass("fixed-top") && t.removeAttr("style")
            }
        }
    }

    function v() {
        const a = e(".beehive-navbar .default-logo");
        a.length && beehive_data.mobile_logo_url && (window.innerWidth < 768 ? a.attr("src", beehive_data.mobile_logo_url) : a.attr("src") !== r && a.attr("src", r))
    }
    a.hasClass("beehive-social-layout") && (b(), e(window).on("resize", b), i.hasClass("social") && e("nav.beehive-navbar > div").prepend(e("<button>").addClass("beehive-toggler panel-toggler").attr("type", "button").append('<span class="icon-bar bar1"></span>').append('<span class="icon-bar bar2"></span>').append('<span class="icon-bar bar3"></span>')), e("#beehive-social-panel").hiraku({
        btn: ".panel-toggler",
        direction: "left",
        breakpoint: 767.98
    }), f(), e(window).on("resize", f), e("#navbar-account-sidebar").hiraku({
        btn: ".account-toggler",
        direction: "right",
        breakpoint: 767.98
    }), window.innerWidth < 767.98 && (e("#beehive-page + .js-hiraku-offcanvas").hasClass("js-hiraku-offcanvas-active") || e("#beehive-page + .js-hiraku-offcanvas").addClass("js-hiraku-offcanvas-active")), a.hasClass("panel-collapsed") && e(".panel-icon-only ul.navbar-panel li a").each(function() {
        e(this).attr("title", e(this).text())
    })), e(window).on("load resize", function() {
        clearTimeout(h), h = setTimeout(p, 500)
    }), beehive_data.fire_login_modal && e(window).on("load", function() {
        e("#login-modal").modal("show")
    }), e(window).on("load", function() {
        e(".ass-scrollbar, #message-threads").mCustomScrollbar({
            theme: "minimal-dark",
            mouseWheel: {
                preventDefault: !0
            }
        })
    }), e(".nav-component .nav-component-list").flexMenu({
        showOnHover: !1,
        cutoff: 0,
        popupClass: "dropdown-menu-right",
        linkText: '<i class="uil-ellipsis-h"></i>',
        hOverflow: !0
    }), new WOW({
        boxClass: "animate-item"
    }).init(), e(window).on("load resize", function() {
        clearTimeout(u), u = setTimeout(function() {
            e(".blog-layout-grid.masonry").masonry({
                itemSelector: ".beehive-post"
            })
        }, 250)
    }), e(window).on("load", function() {
        const a = 500;
        o.fadeOut(a), e(".entry-content .is-type-video").fitVids(), e("#wpadminbar").css("position", "fixed"), e(".comments-area a.comment-reply-login, .comments-area .comment-respond .must-log-in a").attr({
            "data-toggle": "modal",
            "data-target": "#login-modal"
        }), e(".adverts-flash-messages a").each(function() {
            "Login" == e(this).text() && e(this).attr({
                "data-toggle": "modal",
                "data-target": "#login-modal"
            })
        }), e('[data-toggle="tooltip"]').tooltip()
    })
}(jQuery);